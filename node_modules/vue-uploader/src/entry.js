import uploader from "./uploader.vue";
import {validateCompress} from "./util";


exports.install = function (Vue, options) {
    options = options || {}
    let component = Vue.extend(uploader)
    let name = options.name || "vue-uploader"
    //对压缩参数进行判断
    if (typeof options.compress == 'object' && validateCompress(options.compress)) {
        component = component.extend({
            data(){
                return {
                    default_compress: {
                        height: options.compress.height,
                        width: options.compress.width,
                        quality: options.compress.quality
                    }
                }
            }
        })


    }
    Vue.component(name, component)
}